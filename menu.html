<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Menu - Bake & Grill</title>
  <meta name="description" content="Browse our delicious menu of pizzas, burgers, sandwiches, and quick bites.">
  
  <!-- Comprehensive CSP for Firebase and Google Services -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' 
      https://www.gstatic.com 
      https://*.firebase.com 
      https://*.firebaseio.com 
      https://apis.google.com 
      https://www.google.com 
      https://www.google-analytics.com 
      https://ssl.google-analytics.com 
      https://tagmanager.google.com 
      https://www.googletagmanager.com 
      https://*.googleapis.com 
      https://maps.googleapis.com 
      https://kit.fontawesome.com 
      https://static.cloudflareinsights.com
      'nonce-08e44295-49aa-40c6-b156-c7670d2756da' 
      'unsafe-eval';
    style-src 'self' 
      'unsafe-inline' 
      https://kit.fontawesome.com 
      https://fonts.googleapis.com;
    img-src 'self' 
      data: 
      https://* 
      http://* 
      blob:;
    font-src 'self' 
      https://kit.fontawesome.com 
      https://fonts.gstatic.com;
    connect-src 'self' 
      https://* 
      wss://* 
      ws://* 
      http://localhost 
      http://127.0.0.1 
      https://www.googleapis.com 
      https://*.googleapis.com 
      https://*.firebaseio.com 
      https://*.firebasedatabase.app 
      https://*.firebaseapp.com 
      https://*.firebase.com 
      https://*.google.com
      https://identitytoolkit.googleapis.com 
      https://*.cloudfunctions.net
      https://securetoken.googleapis.com 
      https://www.google-analytics.com 
      https://*.firebaseio.com 
      https://*.firebasedatabase.app
      https://stats.g.doubleclick.net;
    frame-src 
      https://*.google.com 
      https://*.firebaseapp.com 
      https://*.firebase.com 
      https://*.googleapis.com;
    object-src 'none';
    media-src *;
  ">

  <!-- CSS -->
  <link rel="stylesheet" href="/css/fontawesome.min.css">
  <link rel="stylesheet" href="/css/styles.css">
  
  <!-- Preload Font Awesome -->
  <link rel="preconnect" href="https://kit.fontawesome.com">
</head>
<body class="mobile-view">
  <header class="mobile-header">
    <div class="logo-container">
      <a href="index.html" class="back-button" aria-label="Go back"><i class="fas fa-arrow-left"></i></a>
      <div class="logo">Our Menu</div>
      <div class="mobile-cart-icon" id="mobileCartBtn" aria-label="Cart" role="button">
        <i class="fas fa-shopping-cart"></i>
        <span class="cart-badge" aria-live="polite">0</span>
      </div>
    </div>
  </header>

  <div id="statusBanner" class="status-banner">
    <div id="shopStatusBanner" class="status-item"><i class="fas fa-store"></i> <span id="shopStatusText">Shop: Open (4PM-10PM)</span></div>
    <div id="deliveryStatusBanner" class="status-item"><i class="fas fa-truck"></i> <span id="deliveryStatusText">Delivery: Available (8km radius)</span></div>
  </div>

  <div class="mobile-container">
    <div id="mobileSearchContainer">
      <i class="fas fa-search"></i>
      <input type="text" id="searchInput" placeholder="Search menu items..." class="mobile-search" aria-label="Search menu">
    </div>
    <div id="tabs" class="mobile-category-nav" role="tablist"></div>
    <div id="menuContainer" class="mobile-menu-container"></div>
  </div>

  <!-- Cart Drawer -->
  <div id="mobileCartDrawer" class="mobile-cart-drawer">
    <div class="drawer-header">
      <h3>Your Order (<span id="cartItemCount">0</span>)</h3>
      <button class="close-drawer" id="closeCartBtn">&times;</button>
    </div>
    <div class="drawer-content">
      <ul id="cartItems" class="mobile-cart-items"></ul>
      <div class="mobile-total-display">
        <span class="total-items"><span id="totalItemCount">0</span> items</span>
        <span class="total-amount">₹<span id="cartTotalAmount">0</span></span>
      </div>
    </div>
    <div class="drawer-footer">
      <button id="mobileClearCartBtn" class="mobile-clear-btn"><i class="fas fa-trash"></i> Clear</button>
      <a href="checkout.html" id="mobileCheckoutBtn" class="mobile-checkout-btn"><i class="fas fa-shopping-bag"></i> Checkout</a>
    </div>
  </div>

  <div id="cartOverlay" class="cart-overlay"></div>

  <!-- Quantity Footer -->
  <div id="quantityFooter" class="quantity-footer">
    <div class="quantity-footer-content">
      <div class="quantity-footer-header">
        <h4 id="quantityItemName" class="truncate">Item Name</h4>
        <p id="quantityVariantPrice">Variant - ₹0</p>
      </div>
      <div class="quantity-controls-container">
        <div class="quantity-controls">
          <button class="quantity-btn minus">−</button>
          <span class="quantity">1</span>
          <button class="quantity-btn plus">+</button>
        </div>
      </div>
      <div class="quantity-footer-actions">
        <button class="cancel-btn">Cancel</button>
        <button class="add-to-cart-btn">Add to Cart</button>
      </div>
    </div>
  </div>

  <footer class="mobile-footer">
    <div class="footer-content">
      <div class="footer-nav">
        <a href="index.html">Home</a>
        <a href="menu.html">Menu</a>
        <a href="checkout.html">Checkout</a>
      </div>
      <p>&copy; 2025 Bake & Grill. All rights reserved.</p>
    </div>
  </footer>

  <div class="mobile-notification" id="notification">
    <i class="fas fa-check-circle"></i>
    <span id="notificationText">Item added to cart!</span>
  </div>

  <div id="a11y-notification" aria-live="polite" class="sr-only"></div>

  <!-- Scripts -->
  <script src="/js/idb.js"></script>
  
  <!-- Firebase Services -->
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-messaging.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-storage.js"></script>
  
  <!-- Google Analytics/Tag Manager -->
  <script src="https://www.googletagmanager.com/gtag/js?id=G-SLG2R88J72" async></script>
  
  <!-- Font Awesome Kit -->
  <script src="https://kit.fontawesome.com/your-actual-code-here.js" crossorigin="anonymous"></script>
  
  <!-- Application Scripts -->
  <script type="module" src="/js/main.js"></script>
  <script type="module" src="/js/menu.js"></script>
</body>
</html>